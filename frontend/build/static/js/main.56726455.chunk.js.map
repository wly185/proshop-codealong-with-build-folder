{"version":3,"sources":["constants/userConstants.js","constants/orderConstants.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","constants/productConstants.js","actions/productActions.js","components/Message.js","components/Loader.js","components/Paginate.js","components/Meta.js","screens/HomeScreen.js","constants/cartConstants.js","actions/cartActions.js","screens/ProductScreen.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","actions/orderActions.js","components/CheckOutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","App.js","reportWebVitals.js","store.js","reducers/productReducer.js","reducers/cartReducers.js","reducers/userReducer.js","reducers/orderReducers.js","index.js"],"names":["USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","ORDER_LIST_MY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_LIST_RESET","ORDER_DELIVERED_REQUEST","ORDER_DELIVERED_SUCCESS","ORDER_DELIVERED_FAIL","ORDER_DELIVERED_RESET","getUserDetails","id","dispatch","getState","a","type","userInfo","userLogin","config","headers","Authorization","token","axios","get","data","payload","response","message","SearchBox","useState","keyword","setKeyword","history","useHistory","Form","onSubmit","e","preventDefault","trim","push","inline","Control","name","onChange","target","value","placeholder","className","Button","variant","Header","useDispatch","useSelector","state","logoutHandler","window","localStorage","removeItem","error","console","log","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","Nav","Link","NavDropdown","title","Item","onClick","isAdmin","Footer","Row","Col","Rating","text","color","style","defaultProps","Product","product","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","PRODUCT_LIST_REQUEST","PRODUCT_LIST_FAIL","PRODUCT_LIST_SUCCESS","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_SUCCESS","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_SUCCESS","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_REQUEST","PRODUCT_TOP_FAIL","PRODUCT_TOP_SUCCESS","listProducts","pageNumber","reponse","listProductDetails","Message","backgroundColor","Loader","Spinner","animation","role","width","height","margin","display","Paginate","pages","page","Pagination","Array","keys","map","x","active","Meta","description","keywords","Helmet","content","HomeScreen","match","params","productList","loading","products","useEffect","sm","md","lg","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","addToCart","qty","countInStock","setItem","JSON","stringify","cart","cartItems","saveShippingAddress","ProductScreen","productId","productDetails","reviewCreate","loadingReview","errorReview","successReview","success","setQty","setRating","comment","setComment","alert","Image","alt","fluid","ListGroup","countInstock","i","disabled","reviews","length","review","createdAt","substring","post","Group","controlId","Label","row","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","rounded","reduce","acc","item","total","toFixed","FormContainer","children","xs","LoginScreen","email","setEmail","password","setPassword","useLocation","redirect","submitHandler","login","RegisterScreen","setName","password2","setPassword2","setMessage","userRegister","register","ProfileScreen","userDetails","userUpdateProfile","orderListMy","loadingOrder","errorOrders","orders","user","put","updateUserProfile","Table","striped","border","hover","responsive","order","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","CheckOutSteps","step1","step2","step3","step4","ShippingScreen","shippingAddress","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","required","PaymentScreen","paymentMethod","setPaymentMethod","Check","label","checked","PlaceOrderScreen","orderCreate","twoDecimalPlaces","num","Math","round","itemsPrice","shippingPrice","taxPrice","orderToBeCreated","orderItems","index","createOrder","OrderScreen","orderId","sdkReady","setSdkReady","orderDetails","orderPay","loadingPay","successPay","errorPay","orderDeliver","loadingDeliver","successDeliver","errorDeliver","addPayPalScript","clientId","script","document","createElement","async","onload","body","appendChild","paypal","href","Alert","amount","onSuccess","paymentResult","payOrder","UserListScreen","userList","users","successDelete","userDelete","deleteHandler","confirm","delete","deleteUser","UserEditScreen","userId","userUpdate","loadingUpdate","errorUpdate","successUpdate","setIsAdmin","updateUser","ProductListScreen","productDelete","errorDelete","loadingDelete","productCreate","errorCreate","loadingCreate","successCreate","createdProduct","deleteProduct","category","brand","ProductEditScreen","productUpdate","setPrice","setBrand","setCategory","setImage","setCountInStock","setDescription","uploading","setUploading","uploadFileHandler","file","files","formData","FormData","append","updateProduct","File","custom","OrderListScreen","orderList","App","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","cartItemsFromStorage","getItem","parse","userInfoFromStorage","initialState","reducer","combineReducers","action","itemExists","find","itemToDelete","filter","topProducts","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.56726455.chunk.js","sourcesContent":["export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST';\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS';\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL';\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET';\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL';\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET';\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_LIST_MY_REQUEST = 'ORDER_LIST_MY_REQUEST';\r\nexport const ORDER_LIST_MY_SUCCESS = 'ORDER_LIST_MY_SUCCESS';\r\nexport const ORDER_LIST_MY_FAIL = 'ORDER_LIST_MY_FAIL';\r\nexport const ORDER_LIST_MY_RESET = 'ORDER_LIST_MY_RESET';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\nexport const ORDER_LIST_RESET = 'ORDER_LIST_RESET';\r\n\r\nexport const ORDER_DELIVERED_REQUEST = 'ORDER_DELIVERED_REQUEST';\r\nexport const ORDER_DELIVERED_SUCCESS = 'ORDER_DELIVERED_SUCCESS';\r\nexport const ORDER_DELIVERED_FAIL = 'ORDER_DELIVERED_FAIL';\r\nexport const ORDER_DELIVERED_RESET = 'ORDER_DELIVERED_RESET';\r\n","import {\r\n  USER_LOGIN_FAIL,\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGOUT,\r\n  USER_REGISTER_FAIL,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n  USER_DETAILS_RESET,\r\n  USER_LIST_FAIL,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_RESET,\r\n  USER_DELETE_SUCCESS,\r\n  USER_DELETE_FAIL,\r\n  USER_DELETE_REQUEST,\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_REQUEST\r\n} from '../constants/userConstants';\r\nimport { ORDER_LIST_MY_RESET } from '../constants/orderConstants';\r\nimport axios from 'axios';\r\n\r\nexport const login = (email, password) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_LOGIN_REQUEST\r\n    });\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const { data } = await axios.post(\r\n      '/api/users/login',\r\n      {\r\n        email,\r\n        password\r\n      },\r\n      config\r\n    );\r\n\r\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\r\n    window.localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_LOGIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    window.localStorage.removeItem('userInfo');\r\n    dispatch({ type: USER_LOGOUT });\r\n    dispatch({ type: USER_DETAILS_RESET });\r\n    dispatch({ type: ORDER_LIST_MY_RESET });\r\n    dispatch({ type: USER_LIST_RESET });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_REGISTER_REQUEST\r\n    });\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    const { data } = await axios.post(\r\n      '/api/users/',\r\n      {\r\n        name,\r\n        email,\r\n        password\r\n      },\r\n      config\r\n    );\r\n\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\r\n    window.localStorage.setItem('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n\r\n//getstate when you need the token from the state\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_DETAILS_REQUEST\r\n    });\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    //refer to redux devtools > state\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n    const { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_REQUEST\r\n    });\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n    const { data } = await axios.put(`/api/users/profile`, user, config);\r\n\r\n    dispatch({ type: USER_UPDATE_PROFILE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_UPDATE_PROFILE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsers = () => async (dispatch, getState) => {\r\n  // console.log('action', 'get users');\r\n  try {\r\n    dispatch({\r\n      type: USER_LIST_REQUEST\r\n    });\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n    const { data } = await axios.get(`/api/users`, config);\r\n    // console.log('action', data);\r\n\r\n    dispatch({ type: USER_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n  // console.log('action', 'USER_DELETE_REQUEST');\r\n  try {\r\n    dispatch({\r\n      type: USER_DELETE_REQUEST\r\n    });\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n    await axios.delete(`/api/users/${id}`, config);\r\n    // console.log('action', data);\r\n    dispatch({ type: USER_DELETE_SUCCESS });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: USER_UPDATE_REQUEST\r\n    });\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n    const { data } = await axios.put(`/api/users/${user._id}`, user, config);\r\n\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n    // console.log('action', data);\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_UPDATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst SearchBox = () => {\r\n  const [keyword, setKeyword] = useState('');\r\n  const history = useHistory();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (keyword.trim()) {\r\n      history.push(`/search/${keyword}`);\r\n    } else {\r\n      history.push('/');\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Form onSubmit={submitHandler} inline>\r\n        <Form.Control\r\n          type='text'\r\n          name='q'\r\n          onChange={(e) => setKeyword(e.target.value)}\r\n          placeholder='search products'\r\n          className='mr-sm-2 ml-sm-5'\r\n        ></Form.Control>\r\n        <Button type='submit' variant='outline-success' className='p-2'>\r\n          search\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '../actions/userActions';\r\nimport SearchBox from '../components/SearchBox';\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin ? userLogin : '';\r\n\r\n  const logoutHandler = () => {\r\n    // console.log('logout');\r\n    dispatch(logout());\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <Navbar bg='dark' variant='dark' expand='lg' collapseOnSelect>\r\n        <Container>\r\n          <LinkContainer to='/'>\r\n            <Navbar.Brand>ProShop</Navbar.Brand>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n          <Navbar.Collapse id='basic-navbar-nav'>\r\n            <SearchBox />\r\n            <Nav className='ml-auto'>\r\n              <LinkContainer to='/cart'>\r\n                <Nav.Link>\r\n                  <i className='fas fa-shopping-cart' /> Cart\r\n                </Nav.Link>\r\n              </LinkContainer>\r\n              {userInfo ? (\r\n                <NavDropdown title={userInfo.name} id='username'>\r\n                  <LinkContainer to='/profile'>\r\n                    <NavDropdown.Item>Profile</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  <NavDropdown.Item onClick={(e) => logoutHandler(e)}>\r\n                    logout\r\n                  </NavDropdown.Item>\r\n                </NavDropdown>\r\n              ) : (\r\n                <LinkContainer to='/login'>\r\n                  <Nav.Link>\r\n                    <i className='fas fa-user'></i> Sign In\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              )}\r\n              {userInfo && userInfo.isAdmin && (\r\n                <NavDropdown title='admin' id='adminmenu'>\r\n                  <LinkContainer to='/admin/userlist'>\r\n                    <NavDropdown.Item>users</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  <LinkContainer to='/admin/productlist'>\r\n                    <NavDropdown.Item>products</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  <LinkContainer to='/admin/orderlist'>\r\n                    <NavDropdown.Item>orders</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                </NavDropdown>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col className='text-center py-3'>Copyright &copy; Proshop</Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n  return (\r\n    <div className='rating'>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 1\r\n              ? 'fas fa-star'\r\n              : value >= 0.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 2\r\n              ? 'fas fa-star'\r\n              : value >= 1.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 3\r\n              ? 'fas fa-star'\r\n              : value >= 2.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 4\r\n              ? 'fas fa-star'\r\n              : value >= 3.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 5\r\n              ? 'fas fa-star'\r\n              : value >= 4.5\r\n              ? 'fas fa-star-half-alt'\r\n              : 'far fa-star'\r\n          }\r\n        ></i>{' '}\r\n        from {text} reviews\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rating;\r\n","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport Rating from './Rating';\r\nimport { Link } from 'react-router-dom';\r\n// import PropTypes from 'prop-types';\r\n\r\nconst Product = ({ product }) => {\r\n  return (\r\n    <div>\r\n      <Card className='my-3 p-3 rounded'>\r\n        <Link to={`/product/${product._id}`}>\r\n          <Card.Img src={product.image} variant='top' />\r\n        </Link>\r\n        <Card.Body>\r\n          <Card.Title as='div'>\r\n            <strong>{product.name}</strong>\r\n          </Card.Title>\r\n          <Card.Text as='div'>\r\n            <Rating value={product.rating} text={product.numReviews} />\r\n          </Card.Text>\r\n          <Card.Text as='h3'>${product.price}</Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nRating.defaultProps = { color: '#f8e825' };\r\n\r\n// Rating.propType = {\r\n//   value: PropTypes.number.isRequired,\r\n//   text: PropTypes.string.isRequired,\r\n//   color: PropTypes.text.isRequired\r\n// };\r\n\r\nexport default Product;\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL';\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_SUCCESS';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST';\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL';\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS';\r\n","import {\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_FAIL,\r\n  PRODUCT_CREATE_REVIEW_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_SUCCESS,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_TOP_REQUEST,\r\n  PRODUCT_TOP_SUCCESS,\r\n  PRODUCT_TOP_FAIL\r\n} from '../constants/productConstants.js';\r\nimport axios from 'axios';\r\n\r\n//javascript function\r\n\r\n//thunk allows async\r\n\r\nexport const listProducts = (keyword = '', pageNumber = '') => async (\r\n  dispatch\r\n) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST });\r\n    const { data } = await axios.get(\r\n      `/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n    );\r\n\r\n    dispatch({\r\n      type: PRODUCT_LIST_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PRODUCT_LIST_FAIL,\r\n      payload:\r\n        err.reponse && err.response.data.message\r\n          ? err.response.data.message\r\n          : err.message\r\n    }); //see errorhandler\r\n  }\r\n};\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n    const { data } = await axios.get(`/api/products/${id}`);\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.reponse && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    }); //see errorhandler\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    await axios.delete(`/api/products/${id}`, config);\r\n    // console.log('action',data);\r\n    dispatch({\r\n      type: PRODUCT_DELETE_SUCCESS,\r\n      success: true\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_CREATE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      `${'/api/products' || 'http://localhost:5000/api/products'}`,\r\n      {},\r\n      config\r\n    );\r\n    //pass in {} cos post request\r\n    // console.log('action',data);\r\n    dispatch({\r\n      type: PRODUCT_CREATE_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_UPDATE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      `/api/products/${product._id}`,\r\n      product,\r\n      config\r\n    );\r\n    //pass in {} cos post request\r\n    // console.log('action',data);\r\n    dispatch({\r\n      type: PRODUCT_UPDATE_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_UPDATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const createReview = (id, review) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    await axios.post(`api/products/${id}/reviews`, review, config);\r\n\r\n    dispatch({\r\n      type: PRODUCT_CREATE_REVIEW_SUCCESS\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_CREATE_REVIEW_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const listTopProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_TOP_REQUEST });\r\n\r\n    const { data } = await axios.get(`api/products/top`);\r\n\r\n    dispatch({\r\n      type: PRODUCT_TOP_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_TOP_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\nconst Message = (variant) => {\r\n  variant = 'success' ? '#D2FBD6' : 'danger' ? '#FFE5DE' : '#DEF5FF';\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: variant\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Spinner\r\n      animation='border'\r\n      role='status'\r\n      style={{\r\n        width: '100px',\r\n        height: '100px',\r\n        margin: 'auto',\r\n        display: 'block'\r\n      }}\r\n    >\r\n      <span className='sr-only'>loading..</span>\r\n    </Spinner>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\r\n  return (\r\n    <>\r\n      {/* <p>{JSON.stringify(pages)}</p> */}\r\n      {pages > 1 && (\r\n        <Pagination>\r\n          {[...Array(pages).keys()].map((x) => (\r\n            <LinkContainer\r\n              key={x + 1}\r\n              to={\r\n                !isAdmin\r\n                  ? keyword\r\n                    ? `/search/${keyword}/page/${x + 1}`\r\n                    : `/page/${x + 1}`\r\n                  : `/admin/productlist/${x + 1}`\r\n              }\r\n            >\r\n              <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n            </LinkContainer>\r\n          ))}\r\n        </Pagination>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst Meta = ({ title, description, keywords }) => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{title}</title>\r\n        <meta name='description' content={description} />\r\n        <meta name='keywords' content={keywords}></meta>\r\n      </Helmet>\r\n    </>\r\n  );\r\n};\r\n\r\nMeta.defaultProps = {\r\n  title: 'welcome to proshop',\r\n  keywords: 'electronics, buy electronics, cheap electronics',\r\n  description: 'we sell the best products for cheap'\r\n};\r\nexport default Meta;\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Product from '../components/Product';\r\nimport { listProducts } from '../actions/productActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport Paginate from '../components/Paginate';\r\nimport ProductCarousel from '../components/ProductCarousel';\r\nimport Meta from '../components/Meta';\r\n\r\nconst HomeScreen = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const keyword = match.params.keyword;\r\n  const pageNumber = match.params.pageNumber || 1;\r\n\r\n  const productList = useSelector((state) => state.productList);\r\n\r\n  const { loading, error, products, page, pages } = productList;\r\n\r\n  useEffect(() => {\r\n    dispatch(listProducts(keyword, pageNumber));\r\n  }, [dispatch, keyword, pageNumber]);\r\n\r\n  return (\r\n    <>\r\n      <Meta />\r\n      {/* {!keyword ? (\r\n        <ProductCarousel />\r\n      ) : (\r\n        <Link to='/' className='btn btn-light'></Link>\r\n      )} */}\r\n      <h1>Latest products</h1>\r\n      {/* <p>products {productList && JSON.stringify(products)}</p> */}\r\n      {loading && <Loader />}\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {products && (\r\n        <>\r\n          <Row>\r\n            {products.map((product) => (\r\n              <Col key={product._id} sm={12} md={6} lg={4}>\r\n                <Product product={product} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Paginate\r\n            pages={pages}\r\n            page={page}\r\n            keyword={keyword ? keyword : ''}\r\n          ></Paginate>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_UPDATE_ITEM = 'CART_UPDATE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\n","import axios from 'axios';\r\nimport {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n  CART_SAVE_PAYMENT_METHOD\r\n} from '../constants/cartConstants';\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n  const { data } = await axios.get(`/api/products/${id}`);\r\n\r\n  // console.log('id', id);\r\n\r\n  dispatch({\r\n    type: CART_ADD_ITEM,\r\n    payload: {\r\n      product: data._id,\r\n      name: data.name,\r\n      image: data.image,\r\n      price: data.price,\r\n      countInStock: data.countInStock,\r\n      qty\r\n    }\r\n  });\r\n\r\n  window.localStorage.setItem(\r\n    'cartItems',\r\n    JSON.stringify([...getState().cart.cartItems])\r\n  );\r\n};\r\n\r\nexport const removeFromCart = (id) => async (dispatch, getState) => {\r\n  // console.log('action/payload', id);\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: { id } });\r\n\r\n  window.localStorage.setItem(\r\n    'cartItems',\r\n    JSON.stringify([...getState().cart.cartItems])\r\n  );\r\n};\r\n\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n  dispatch({ type: CART_SAVE_SHIPPING_ADDRESS, payload: { ...data } });\r\n  // console.log('action, shipping address', data);\r\n  window.localStorage.setItem('shippingAddress', JSON.stringify({ ...data }));\r\n};\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n  dispatch({\r\n    type: CART_SAVE_PAYMENT_METHOD,\r\n    payload: data\r\n  });\r\n  localStorage.setItem('paymentMethod', JSON.stringify(data));\r\n};\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Image,\r\n  ListGroup,\r\n  Card,\r\n  Button,\r\n  Form\r\n} from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProductDetails, createReview } from '../actions/productActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Rating from '../components/Rating';\r\nimport { addToCart } from '../actions/cartActions';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\r\nimport Meta from '../components/Meta';\r\n\r\nconst ProductScreen = ({ match }) => {\r\n  const productId = match.params.id;\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { product, loading, error } = productDetails;\r\n\r\n  const reviewCreate = useSelector((state) => state.reviewCreate);\r\n  const {\r\n    loading: loadingReview,\r\n    error: errorReview,\r\n    success: successReview\r\n  } = reviewCreate;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const [qty, setQty] = useState(1);\r\n  const [rating, setRating] = useState('');\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (successReview) {\r\n      alert('review submitted!');\r\n      setRating(0);\r\n      setComment('');\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n    }\r\n    dispatch(listProductDetails(match.params.id));\r\n  }, [match, dispatch, successReview]);\r\n\r\n  const addToCartHandler = () => {\r\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\r\n    dispatch(addToCart(productId, qty));\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createReview(match.params.id, { rating, comment }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Meta title={product.name} />\r\n      <Link to='/' className='btn btn-light my-3'>\r\n        go back\r\n      </Link>\r\n      {loading && <Loader />}\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {product && (\r\n        <>\r\n          <Row>\r\n            <Col md={6}>\r\n              <Image src={product.image} alt={product.name} fluid></Image>\r\n            </Col>\r\n            <Col md={3}>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h3>{product.name}</h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Rating\r\n                    value={product.rating}\r\n                    text={product.numReviews}\r\n                  ></Rating>\r\n                </ListGroup.Item>{' '}\r\n                <ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  Description: {product.description}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price:</Col>\r\n                    <Col>\r\n                      <strong>${product.price}</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Quantity:</Col>\r\n                    <Col>\r\n                      {product.countInstock > 0 ? 'out of stock' : 'in stock'}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {product.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Qty</Col>\r\n                      <Col>\r\n                        <Form.Control\r\n                          as='select'\r\n                          value={qty}\r\n                          onChange={(e) => {\r\n                            setQty(e.target.value);\r\n                          }}\r\n                        >\r\n                          {[...Array(product.countInStock).keys()].map((i) => {\r\n                            return (\r\n                              <option key={i} value={i + 1}>\r\n                                {i + 1}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                )}\r\n\r\n                <ListGroup.Item>\r\n                  <Button\r\n                    onClick={(e) => addToCartHandler(e)}\r\n                    className='btn-block'\r\n                    type='button'\r\n                    disabled={product.countInStock === 0}\r\n                  >\r\n                    Add to Cart\r\n                  </Button>\r\n                </ListGroup.Item>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col md={6}>\r\n              <h2>reviews</h2>\r\n              {loadingReview && <Loader />}\r\n              {product.reviews.length === 0 && <Message>no reviews</Message>}\r\n              <ListGroup variant='flush'>\r\n                {product.reviews.map((review) => (\r\n                  <ListGroup.Item>\r\n                    <strong>{review.name}</strong>\r\n                    <Rating value={review.rating}>\r\n                      <p>{review.createdAt.substring(0, 10)}</p>\r\n                      <p>{review.comment}</p>\r\n                    </Rating>\r\n                  </ListGroup.Item>\r\n                ))}\r\n                <ListGroup.Item>\r\n                  <h2>write a customer review</h2>\r\n                  {errorReview && (\r\n                    <Message color='danger'>{errorReview}</Message>\r\n                  )}\r\n                  {userInfo ? (\r\n                    <Form onSubmit={submitHandler}>\r\n                      <Form.Group controlId='rating'>\r\n                        <Form.Label>Rating</Form.Label>\r\n                        <Form.Control\r\n                          as='select'\r\n                          value={rating}\r\n                          onChange={(e) => setRating(e.target.value)}\r\n                        >\r\n                          <option value=''>select...</option>\r\n                          <option value='1'>1 - poor</option>\r\n                          <option value='2'>2 - fair</option>\r\n                          <option value='3'>3 - good</option>\r\n                          <option value='4'>4 - very good</option>\r\n                          <option value='5'>5 - excellent</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                      <Form.Group>\r\n                        <Form.Label controlId='comment'>comment</Form.Label>\r\n                        <Form.Control\r\n                          as='textArea'\r\n                          row='3'\r\n                          value={comment}\r\n                          onChange={(e) => setComment(e.target.value)}\r\n                        ></Form.Control>\r\n                      </Form.Group>\r\n                      <Button type='submit' variant='primary'>\r\n                        submit\r\n                      </Button>\r\n                    </Form>\r\n                  ) : (\r\n                    <Message variant='danger'>\r\n                      <Link to='/login'>sign in to write a review</Link>\r\n                    </Message>\r\n                  )}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n","//view\r\nimport React, { useEffect, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Row,\r\n  Col,\r\n  ListGroup,\r\n  Image,\r\n  Form,\r\n  Button,\r\n  Card\r\n} from 'react-bootstrap';\r\nimport Message from '../components/Message';\r\n// import Loader from '../components/Loader';\r\n\r\n//state\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n  const productId = match.params.id;\r\n  const qty = location.search ? Number(location.search.split('=')[1]) : 1;\r\n\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n\r\n  useEffect(() => {\r\n    if ({ productId, qty }) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, [dispatch, productId, qty]);\r\n\r\n  const removeFromCartHandler = (id) => {\r\n    // console.log('handler', id);\r\n    dispatch(removeFromCart(id));\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    history.push('/login?redirect=shipping');\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* <p>{JSON.stringify(cartItems)}</p> */}\r\n      <Row>\r\n        <Col md={8}>\r\n          <h1>shopping cart</h1>\r\n          {cartItems === null ? (\r\n            <Message>\r\n              your cart is empty. <Link to='/'>go back</Link>\r\n            </Message>\r\n          ) : cartItems.length === 0 ? (\r\n            <Message>\r\n              Your cart is empty. <Link to='/'> Go Back</Link>\r\n            </Message>\r\n          ) : (\r\n            <ListGroup variant='flush'>\r\n              {cartItems.map((i) => (\r\n                <ListGroup.Item key={i.product}>\r\n                  <Row>\r\n                    <Col md={2}>\r\n                      <Image src={i.image} alt={i.name} fluid rounded></Image>\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      <Link to={`/product/${i.product}`}>{i.name}</Link>\r\n                    </Col>\r\n                    <Col md={2}>${i.price}</Col>\r\n                    <Col md={2}>\r\n                      <Form.Control\r\n                        as='select'\r\n                        value={i.qty}\r\n                        onChange={(e) => {\r\n                          dispatch(\r\n                            addToCart(i.product, Number(e.target.value))\r\n                          );\r\n                        }}\r\n                      >\r\n                        {[...Array(i.countInStock).keys()].map((x) => {\r\n                          return (\r\n                            <option key={x} value={x + 1}>\r\n                              {x + 1}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </Form.Control>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Button\r\n                        type='button'\r\n                        variant='light'\r\n                        onClick={() => {\r\n                          removeFromCartHandler(i.product);\r\n                          // console.log('onclick', i.product);\r\n                        }}\r\n                      >\r\n                        <i className='fas fa-trash'></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h4>\r\n                  subtotal: {cartItems.reduce((acc, item) => acc + item.qty, 0)}\r\n                  items\r\n                </h4>\r\n                {/* might need to filter error values */}$\r\n                {cartItems\r\n                  .reduce((total, i) => total + i.price * i.qty, 0)\r\n                  .toFixed(2)}\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Button\r\n                  type='button'\r\n                  className='btn-block'\r\n                  disabled={cartItems.length === 0}\r\n                  onClick={() => {\r\n                    checkoutHandler();\r\n                  }}\r\n                >\r\n                  proceed to checkout\r\n                </Button>\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n  return (\r\n    <Container>\r\n      <Row className='justify-content-md-center'>\r\n        <Col xs={12} md={6}>\r\n          {children}\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default FormContainer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { login } from '../actions/userActions';\r\n\r\nconst LoginScreen = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { loading, error, userInfo } = userLogin ? userLogin : '';\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(login(email, password));\r\n    // console.log(email, password);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      history.push(redirect);\r\n    }\r\n  }, [userInfo, redirect, history]);\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>sign in</h1>\r\n      {error && <Message variant='danger'></Message>}\r\n      {loading && <Loader></Loader>}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>email address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='enter email'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='enter password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Button\r\n          type='submit'\r\n          variant='primary'\r\n          onClick={(e) => submitHandler(e)}\r\n        >\r\n          sign in\r\n        </Button>\r\n      </Form>\r\n      <Row className='py-3'>\r\n        <Col>\r\n          new customer?{' '}\r\n          <Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>\r\n            register\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { register } from '../actions/userActions';\r\n\r\nconst RegisterScreen = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '/';\r\n  const { loading, error, userInfo } = userRegister ? userRegister : '';\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== password2) {\r\n      setMessage('passwords do not match');\r\n    } else {\r\n      dispatch(register(name, email, password));\r\n      // console.log(name,email, password);}\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      history.push(redirect);\r\n    }\r\n  }, [userInfo, redirect, history]);\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>sign up</h1>\r\n      {message && <Message variant='danger'>{message}</Message>}\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {loading && <Loader></Loader>}\r\n      <Form onSubmit={submitHandler}>\r\n        <Form.Group controlId='name'>\r\n          <Form.Label>name</Form.Label>\r\n          <Form.Control\r\n            type='text'\r\n            placeholder='enter name'\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='email'>\r\n          <Form.Label>email address</Form.Label>\r\n          <Form.Control\r\n            type='email'\r\n            placeholder='enter email'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='enter password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId='password2'>\r\n          <Form.Label>confirm password</Form.Label>\r\n          <Form.Control\r\n            type='password'\r\n            placeholder='re-enter password'\r\n            value={password2}\r\n            onChange={(e) => setPassword2(e.target.value)}\r\n          ></Form.Control>\r\n        </Form.Group>\r\n        <Button\r\n          type='submit'\r\n          variant='primary'\r\n          onClick={(e) => submitHandler(e)}\r\n        >\r\n          sign up\r\n        </Button>\r\n      </Form>\r\n      <Row className='py-3'>\r\n        <Col>\r\n          have an account?{' '}\r\n          <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\r\n            login\r\n          </Link>\r\n        </Col>\r\n      </Row>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Button, Row, Col, Table } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\n\r\nconst ProfileScreen = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n  const { loading: loadingOrder, error: errorOrders, orders } = useSelector(\r\n    (state) => state.orderListMy\r\n  );\r\n\r\n  let history = useHistory();\r\n\r\n  const { loading, error, user } = userDetails ? userDetails : '';\r\n\r\n  const { userInfo } = userLogin ? userLogin : '';\r\n  const { success } = userUpdateProfile ? userUpdateProfile : '';\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== password2) {\r\n      setMessage('passwords do not match');\r\n    } else {\r\n      dispatch(updateUserProfile({ id: user._id, name, email, password }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      history.push('/login');\r\n    } else {\r\n      if (!user.name) {\r\n        dispatch(getUserDetails('profile'));\r\n        dispatch(listMyOrders());\r\n      } else {\r\n        setName(user.name);\r\n        setEmail(user.email);\r\n      }\r\n    }\r\n  }, [userInfo, history, user, dispatch]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Row>\r\n        <Col md={3}>\r\n          <h2>user profile</h2>\r\n          {message && <Message variant='danger'>{message}</Message>}\r\n          {error && <Message variant='danger'>{error}</Message>}\r\n          {success && <Message variant='success'>profile updated</Message>}\r\n          {loading && <Loader></Loader>}\r\n          <Form onSubmit={submitHandler}>\r\n            <Form.Group controlId='name'>\r\n              <Form.Label>email address</Form.Label>\r\n              <Form.Control\r\n                type='text'\r\n                placeholder={name}\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='email'>\r\n              <Form.Label>email address</Form.Label>\r\n              <Form.Control\r\n                type='email'\r\n                placeholder={email}\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <Form.Label>password</Form.Label>\r\n              <Form.Control\r\n                type='password'\r\n                placeholder='enter password'\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='password2'>\r\n              <Form.Label>confirm password</Form.Label>\r\n              <Form.Control\r\n                type='password'\r\n                placeholder='re-enter password'\r\n                value={password2}\r\n                onChange={(e) => setPassword2(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n            <Button\r\n              type='submit'\r\n              variant='primary'\r\n              onClick={(e) => submitHandler(e)}\r\n            >\r\n              update\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n        <Col md={9}>\r\n          <h2>my orders</h2>\r\n          {loadingOrder && <Loader />}\r\n          {errorOrders && <Message variant='danger'>{errorOrders}</Message>}\r\n          {orders && (\r\n            <Table striped border hover responsive className='table-sm'>\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>DATE</th>\r\n                  <th>TOTAL</th>\r\n                  <th>PAID</th>\r\n                  <th>DELIVERED</th>\r\n                  <th></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orders.map((order) => (\r\n                  <tr key={order._id}>\r\n                    <td>{order._id}</td>\r\n                    <td>{order.createdAt.substring(0, 10)}</td>\r\n                    <td>{order.totalPrice}</td>\r\n                    <td>\r\n                      {order.isPaid ? (\r\n                        order.paidAt.substring(0, 10)\r\n                      ) : (\r\n                        <i\r\n                          className='fas fa-times'\r\n                          style={{ color: 'red' }}\r\n                        ></i>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      {order.isDelivered ? (\r\n                        order.deliveredAt.substring(0, 10)\r\n                      ) : (\r\n                        <i\r\n                          className='fas fa-times'\r\n                          style={{ color: 'red' }}\r\n                        ></i>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <LinkContainer to={`/orders/${order._id}`}>\r\n                        <Button variant='light' className='btn-sm'>\r\n                          details\r\n                        </Button>\r\n                      </LinkContainer>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n","import {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_LIST_MY_REQUEST,\r\n  ORDER_LIST_MY_SUCCESS,\r\n  ORDER_LIST_MY_FAIL,\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n  ORDER_DELIVERED_REQUEST,\r\n  ORDER_DELIVERED_SUCCESS,\r\n  ORDER_DELIVERED_FAIL\r\n} from '../constants/orderConstants';\r\n\r\nimport axios from 'axios';\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_CREATE_REQUEST });\r\n    // console.log('action,order', order);\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.post(`/api/orders`, order, config);\r\n    // console.log('action,data', data);\r\n\r\n    dispatch({\r\n      type: ORDER_CREATE_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST });\r\n    // console.log('action', order);\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/orders/${id}`, config);\r\n    // console.log(data);\r\n    dispatch({\r\n      type: ORDER_DETAILS_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const payOrder = (id, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_PAY_REQUEST });\r\n    // console.log('action', payment);\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      `/api/orders/${id}/pay`,\r\n      paymentResult,\r\n      config\r\n    );\r\n    // console.log(data);\r\n    dispatch({\r\n      type: ORDER_PAY_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_PAY_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const deliverOrder = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DELIVERED_REQUEST });\r\n    // console.log('action', payment);\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.put(`/api/orders/${id}/deliver`, {}, config);\r\n    // console.log(data);\r\n    dispatch({\r\n      type: ORDER_DELIVERED_SUCCESS,\r\n      payload: data\r\n    });\r\n    dispatch({ type: ORDER_DETAILS_REQUEST });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_DELIVERED_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_LIST_MY_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.get(\r\n      `/api/orders/myorders`,\r\n\r\n      config\r\n    );\r\n    // console.log('action',data);\r\n    dispatch({\r\n      type: ORDER_LIST_MY_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_LIST_MY_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n\r\nexport const listOrders = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_LIST_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo }\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`\r\n      }\r\n    };\r\n\r\n    const { data } = await axios.get(\r\n      `/api/orders`,\r\n\r\n      config\r\n    );\r\n    // console.log('action',data);\r\n    dispatch({\r\n      type: ORDER_LIST_SUCCESS,\r\n      payload: data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckOutSteps = ({ step1, step2, step3, step4 }) => {\r\n  return (\r\n    <div>\r\n      <Nav className='justify-content center mb-4'>\r\n        <Nav.Item>\r\n          {step1 ? (\r\n            <LinkContainer to='/login'>\r\n              <Nav.Link>sign in</Nav.Link>\r\n            </LinkContainer>\r\n          ) : (\r\n            <Nav.Link disabled>sign in</Nav.Link>\r\n          )}\r\n        </Nav.Item>\r\n\r\n        <Nav.Item>\r\n          {step2 ? (\r\n            <LinkContainer to='/shipping'>\r\n              <Nav.Link>shipping</Nav.Link>\r\n            </LinkContainer>\r\n          ) : (\r\n            <Nav.Link disabled>shipping</Nav.Link>\r\n          )}\r\n        </Nav.Item>\r\n\r\n        <Nav.Item>\r\n          {step3 ? (\r\n            <LinkContainer to='/payment'>\r\n              <Nav.Link>payment</Nav.Link>\r\n            </LinkContainer>\r\n          ) : (\r\n            <Nav.Link disabled>payment</Nav.Link>\r\n          )}\r\n        </Nav.Item>\r\n\r\n        <Nav.Item>\r\n          {step4 ? (\r\n            <LinkContainer to='/placeorder'>\r\n              <Nav.Link>place order</Nav.Link>\r\n            </LinkContainer>\r\n          ) : (\r\n            <Nav.Link disabled>place order</Nav.Link>\r\n          )}\r\n        </Nav.Item>\r\n      </Nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckOutSteps;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckOutSteps from '../components/CheckOutSteps';\r\n\r\nconst ShippingScreen = () => {\r\n  const cart = useSelector((state) => state.cart);\r\n\r\n  const { shippingAddress } = cart ? cart : '';\r\n\r\n  const [address, setAddress] = useState(shippingAddress.address);\r\n  const [city, setCity] = useState(shippingAddress.city);\r\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n  const [country, setCountry] = useState(shippingAddress.country);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n    history.push('/payment');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <p>rdux state - shipping address{JSON.stringify(cart.shippingAddress)}</p> */}\r\n      <CheckOutSteps step1 step2 />\r\n      <FormContainer>\r\n        <h1>shipping</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group controlId='address'>\r\n            <Form.Label>shipping address</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='enter address'\r\n              value={address}\r\n              required\r\n              onChange={(e) => setAddress(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='city'>\r\n            <Form.Label>city</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='enter city'\r\n              value={city}\r\n              required\r\n              onChange={(e) => setCity(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='postalCode'>\r\n            <Form.Label>postal code</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='enter postal code'\r\n              value={postalCode}\r\n              required\r\n              onChange={(e) => setPostalCode(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='country'>\r\n            <Form.Label>country</Form.Label>\r\n            <Form.Control\r\n              type='text'\r\n              placeholder='enter country'\r\n              value={country}\r\n              required\r\n              onChange={(e) => setCountry(e.target.value)}\r\n            ></Form.Control>\r\n          </Form.Group>\r\n\r\n          <Button onClick={(e) => submitHandler(e)} variant='primary'>\r\n            continue\r\n          </Button>\r\n        </Form>\r\n      </FormContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShippingScreen;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Button, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckOutSteps from '../components/CheckOutSteps';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\n\r\nconst PaymentScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const cart = useSelector((state) => state.cart);\r\n\r\n  const { shippingAddress } = cart ? cart : '';\r\n  const { address, city, postalCode, country } = shippingAddress;\r\n\r\n  if (!shippingAddress) {\r\n    history.push('/shipping');\r\n  }\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n    history.push('/payment');\r\n    dispatch(savePaymentMethod(paymentMethod));\r\n    history.push('/placeorder');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <p>rdux state - shipping address{JSON.stringify(cart.shippingAddress)}</p> */}\r\n\r\n      <FormContainer>\r\n        <CheckOutSteps step1 step2 step3 />\r\n        <h1>payment method</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group>\r\n            <Form.Label as='legend'>select method</Form.Label>\r\n            <Col>\r\n              <Form.Check\r\n                type='radio'\r\n                label='paypal or credit card'\r\n                id='paypal'\r\n                name='paymentMethod'\r\n                value='paypal'\r\n                checked\r\n                onChange={(e) => {\r\n                  setPaymentMethod(e.target.value);\r\n                }}\r\n              ></Form.Check>\r\n            </Col>\r\n          </Form.Group>\r\n\r\n          <Button onClick={(e) => submitHandler(e)} variant='primary'>\r\n            continue\r\n          </Button>\r\n        </Form>\r\n      </FormContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentScreen;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Button, Row, Col, Image, ListGroup, Card } from 'react-bootstrap';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport CheckOutSteps from '../components/CheckOutSteps';\r\nimport { createOrder } from '../actions/orderActions';\r\n\r\nconst PlaceOrderScreen = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const cart = useSelector((state) => state.cart);\r\n  const orderCreate = useSelector((state) => state.orderCreate);\r\n  const { order, success, error } = orderCreate;\r\n\r\n  const history = useHistory();\r\n\r\n  //calculate prices\r\n  cart.itemsPrice = twoDecimalPlaces(\r\n    cart.cartItems.reduce((total, item) => total + item.price * item.qty, 0)\r\n  );\r\n  cart.shippingPrice = twoDecimalPlaces(cart.itemsPrice > 100 ? 10 : 0);\r\n  cart.taxPrice = twoDecimalPlaces(0.15 * cart.itemsPrice);\r\n  cart.totalPrice = [cart.itemsPrice, cart.shippingPrice, cart.taxPrice].reduce(\r\n    (total, i) => total + i,\r\n    0\r\n  );\r\n\r\n  function twoDecimalPlaces(num) {\r\n    return Math.round(num * 100) / 100;\r\n  }\r\n\r\n  // order to be created\r\n  const orderToBeCreated = {\r\n    orderItems: cart.cartItems.map((i) => ({\r\n      qty: i.qty,\r\n      product: i.product\r\n    })),\r\n    shippingAddress: cart.shippingAddress,\r\n    paymentMethod: cart.paymentMethod,\r\n    itemsPrice: cart.itemsPrice,\r\n    shippingPrice: cart.shippingPrice,\r\n    taxPrice: cart.taxPrice,\r\n    totalPrice: cart.totalPrice\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      history.push(`/orders/${order._id}`);\r\n      // console.log('screen,order success', order._id);\r\n      //ORDER_CREATE_SUCCESS\r\n    }\r\n  }, [history, success, order]);\r\n\r\n  //handlers\r\n  const placeOrderHandler = () => {\r\n    dispatch(createOrder(orderToBeCreated));\r\n    // console.log('screen,handler', orderToBeCreated);\r\n    //ORDER_CREATE_REQUEST\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckOutSteps step1 step2 step3 step4 />\r\n      {/* <p>order to be created{JSON.stringify(orderToBeCreated)}</p>\r\n      <p>\r\n        order captured and reflected from the backend\r\n        {order && JSON.stringify(order)}\r\n      </p> */}\r\n\r\n      <Row>\r\n        <Col md={8}>\r\n          <ListGroup variant='flush'>\r\n            <ListGroup.Item>\r\n              <h2>shipping</h2>\r\n              <p>\r\n                <strong>address: </strong>\r\n                {cart.shippingAddress.address},{cart.shippingAddress.city},\r\n                {cart.shippingAddress.postalCode},{cart.shippingAddress.country}\r\n              </p>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <h2>payment method</h2>\r\n              <strong>method: </strong>\r\n              {cart.paymentMethod}\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <h2>order items</h2>\r\n              {cart.cartItems.length === 0 || !cart.cartItems ? (\r\n                <Message>your cart is empty</Message>\r\n              ) : (\r\n                <ListGroup variant='flush'>\r\n                  {cart.cartItems.map((item, index) => (\r\n                    <ListGroup.Item key={index}>\r\n                      <Row>\r\n                        <Col md={1}>\r\n                          <Image\r\n                            src={item.image}\r\n                            alt={item.name}\r\n                            fluid\r\n                            rounded\r\n                          ></Image>\r\n                        </Col>\r\n                        <Col>\r\n                          <Link to={`/product/${item.product}`}>\r\n                            {item.name}\r\n                          </Link>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                          {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              )}\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h2>order summary</h2>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>items</Col>\r\n                  <Col>${cart.itemsPrice.toFixed(2)}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>shipping</Col>\r\n                  <Col>${cart.shippingPrice.toFixed(2)}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>tax</Col>\r\n                  <Col>${cart.taxPrice.toFixed(2)}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>total</Col>\r\n                  <Col>${cart.totalPrice.toFixed(2)}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                {error && <Message variant='danger'>{error}</Message>}\r\n              </ListGroup.Item>\r\n              <Button\r\n                type='button'\r\n                className='btn-block'\r\n                disabled={cart.cartItems === 0}\r\n                onClick={placeOrderHandler}\r\n              >\r\n                place order\r\n              </Button>\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaceOrderScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Image,\r\n  ListGroup,\r\n  Card,\r\n  Button,\r\n  Alert\r\n} from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport {\r\n  getOrderDetails,\r\n  payOrder,\r\n  deliverOrder\r\n} from '../actions/orderActions';\r\nimport axios from 'axios';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { ORDER_PAY_RESET } from '../constants/orderConstants';\r\n\r\nconst OrderScreen = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const orderId = match.params.id;\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n  // const [delivered, setDelivered] = useState();\r\n\r\n  const orderDetails = useSelector((state) => state.orderDetails);\r\n  const { loading, error, order } = orderDetails;\r\n  // const order = useSelector((state) => state.orderDetails.order);\r\n\r\n  const orderPay = useSelector((state) => state.orderPay);\r\n  const {\r\n    loading: loadingPay,\r\n    success: successPay,\r\n    error: errorPay\r\n  } = orderPay;\r\n\r\n  const orderDeliver = useSelector((state) => state.orderDeliver);\r\n  const {\r\n    loading: loadingDeliver,\r\n    success: successDeliver,\r\n    error: errorDeliver\r\n  } = orderDeliver;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n\r\n  useEffect(() => {\r\n    const addPayPalScript = async () => {\r\n      //api call\r\n      const { data: clientId } = await axios.get('/api/config/paypal');\r\n      // console.log('api call', clientId);\r\n\r\n      //create script tag dynamically and insert into html\r\n      const script = document.createElement('script');\r\n      script.type = 'text/javascript';\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\r\n      script.async = true;\r\n      script.onload = () => {\r\n        setSdkReady(true);\r\n      };\r\n      document.body.appendChild(script);\r\n    };\r\n\r\n    //check for paypal script\r\n    if (!order || successPay || order._id !== orderId) {\r\n      dispatch({ type: ORDER_PAY_RESET });\r\n      dispatch(getOrderDetails(orderId));\r\n    } else if (!order.isPaid) {\r\n      if (!window.paypal) {\r\n        addPayPalScript();\r\n      } else {\r\n        setSdkReady(true);\r\n      }\r\n    }\r\n  }, [dispatch, order, orderId, match, successPay]);\r\n\r\n  function successPaymentHandler(paymentResult) {\r\n    dispatch(payOrder(orderId, paymentResult));\r\n  }\r\n\r\n  const buttonHandler = () => {\r\n    dispatch(deliverOrder(orderId));\r\n  };\r\n  return (\r\n    <>\r\n      <h1>order {orderId}</h1>\r\n      {/* <p>order{JSON.stringify(order)}</p> */}\r\n\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {errorPay && <Message variant='danger'>{errorPay}</Message>}\r\n      {errorDeliver && <Message variant='danger'>{errorDeliver}</Message>}\r\n      {successPay && <Message variant='success'>{successPay}</Message>}\r\n      {successDeliver && <Message variant='success'>{successDeliver}</Message>}\r\n      {loading && <Loader />}\r\n      {loadingDeliver && <Loader />}\r\n      {loadingPay && <Loader />}\r\n      {!error && order && userLogin && (\r\n        <Row>\r\n          <Col md={8}>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h2>shipping</h2>\r\n                <p>\r\n                  <strong>name:</strong>\r\n                  {order.user.name}\r\n                </p>\r\n                <p>\r\n                  <strong>email:</strong>\r\n                  <a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n                </p>\r\n                <p>\r\n                  <strong>address: </strong>\r\n                  {order.shippingAddress.address},{order.shippingAddress.city},\r\n                  {order.shippingAddress.postalCode},\r\n                  {order.shippingAddress.country}\r\n                </p>\r\n                <p>delivered: {JSON.stringify(order.isDelivered)}</p>\r\n                <Alert variant='success'> some info</Alert>\r\n                {order.isDelivered === true && (\r\n                  <Message variant='success'>\r\n                    order delivered on {order.deliveredAt.substring(0, 10)}\r\n                  </Message>\r\n                )}\r\n                {order.isDelivered === false && (\r\n                  <Message variant='info'>\r\n                    order delivered not delivered yet\r\n                  </Message>\r\n                )}\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h2>payment method</h2>\r\n                <p>\r\n                  <strong>method: </strong>\r\n                  {order.paymentMethod}\r\n                </p>\r\n                <p>paid: {JSON.stringify(order.isPaid)}</p>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h2>order items</h2>\r\n                {order.orderItems.length === 0 || !order.orderItems ? (\r\n                  <Message>your order is empty</Message>\r\n                ) : (\r\n                  <ListGroup variant='flush'>\r\n                    {order.orderItems.map((item, index) => (\r\n                      <ListGroup.Item key={index}>\r\n                        <Row>\r\n                          <Col md={1}>\r\n                            <Image\r\n                              src={item.product.image}\r\n                              alt={item.product.name}\r\n                              fluid\r\n                              rounded\r\n                            ></Image>\r\n                          </Col>\r\n                          <Col>\r\n                            <Link to={`/product/${item.product._id}`}>\r\n                              {item.product.name}\r\n                            </Link>\r\n                          </Col>\r\n                          <Col md={4}>\r\n                            {item.qty} x ${item.product.price.toFixed(2)} = $\r\n                            {item.qty * item.product.price.toFixed(2)}\r\n                          </Col>\r\n                        </Row>\r\n                      </ListGroup.Item>\r\n                    ))}\r\n                  </ListGroup>\r\n                )}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={4}>\r\n            <Card>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <h2>order summary</h2>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>items</Col>\r\n                    <Col>${order.itemsPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>shipping</Col>\r\n                    <Col>${order.shippingPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>tax</Col>\r\n                    <Col>${order.taxPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>total</Col>\r\n                    <Col>${order.totalPrice.toFixed(2)}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  {error && <Message variant='danger'>{error}</Message>}\r\n                </ListGroup.Item>\r\n                {!order.isPaid && (\r\n                  <ListGroup.Item>\r\n                    {loadingPay && <Loader />}\r\n                    {!sdkReady ? (\r\n                      <Loader />\r\n                    ) : (\r\n                      <PayPalButton\r\n                        amount={order.totalPrice}\r\n                        onSuccess={successPaymentHandler}\r\n                      ></PayPalButton>\r\n                    )}\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n\r\n              {userLogin.userInfo.isAdmin === true &&\r\n                order.isDelivered === false && (\r\n                  <ListGroup>\r\n                    <Button onClick={buttonHandler}>mark as delivered</Button>\r\n                  </ListGroup>\r\n                )}\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderScreen;\r\n","import React, { Fragment, useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { getUsers, deleteUser } from '../actions/userActions';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst UserListScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const userList = useSelector((state) => state.userList);\r\n  const { loading, error, users } = userList;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  const userDelete = useSelector((state) => state.userDelete);\r\n  const { success: successDelete } = userDelete;\r\n\r\n  useEffect(() => {\r\n    if (userInfo && userInfo.isAdmin) {\r\n      dispatch(getUsers());\r\n    } else {\r\n      history.push('/login');\r\n    }\r\n  }, [dispatch, history, successDelete, userInfo]);\r\n\r\n  const deleteHandler = (id) => {\r\n    // console.log('screen', 'delete user');\r\n\r\n    if (window.confirm('are you sure')) {\r\n      dispatch(deleteUser(id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* <p>users {JSON.stringify(users)}</p> */}\r\n      <h1>users</h1>\r\n      {loading && <Loader />}\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {users && (\r\n        <Table striped border hover responsive className='table-sm'>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>NAME</th>\r\n              <th>EMAIL</th>\r\n              <th>ADMIN</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n              <tr key={user._id}>\r\n                <td>{user._id}</td>\r\n                <td>{user.name}</td>\r\n                <td>\r\n                  <a href={`mailto:${user.email}`}>{user.email}</a>\r\n                </td>\r\n                <td>\r\n                  {user.isAdmin ? (\r\n                    <i className='fas fa-check' style={{ color: 'green' }} />\r\n                  ) : (\r\n                    <i className='fas fa-times' style={{ color: 'red' }} />\r\n                  )}\r\n                </td>\r\n                <td>\r\n                  <LinkContainer to={`user/${user._id}/edit`}>\r\n                    <Button variant='light' className='btn-sm'>\r\n                      <i className='fas fa-edit' />\r\n                    </Button>\r\n                  </LinkContainer>\r\n                  <Button\r\n                    variant='danger'\r\n                    className='btn-sm'\r\n                    onClick={() => deleteHandler(user._id)}\r\n                  >\r\n                    <i className='fas fa-trash'></i>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserListScreen;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { getUserDetails, updateUser } from '../actions/userActions';\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\r\n\r\nconst UserEditScreen = ({ match }) => {\r\n  const userId = match.params.id;\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n  const userUpdate = useSelector((state) => state.userUpdate);\r\n  const {\r\n    loading: loadingUpdate,\r\n    error: errorUpdate,\r\n    success: successUpdate\r\n  } = userUpdate;\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (successUpdate) {\r\n      dispatch({ type: USER_UPDATE_RESET });\r\n      history.push('/admin/userlist');\r\n      // console.log('screen, useeffect');\r\n    } else {\r\n      if (!user.name || user._id !== userId) {\r\n        dispatch(getUserDetails(userId));\r\n      } else {\r\n        setName(user.name);\r\n        setEmail(user.email);\r\n        setIsAdmin(user.isAdmin);\r\n      }\r\n    }\r\n  }, [dispatch, user, userId, history, successUpdate]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(updateUser({ _id: userId, name, email, isAdmin }));\r\n    // console.log('screen, handler');\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Link to='/admin/userlist' className='btn btn-light my-3'>\r\n        go back\r\n      </Link>\r\n      <h1>edit user</h1>\r\n      {/* <p>user {JSON.stringify(user)}</p> */}\r\n\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n      {loading && <Loader></Loader>}\r\n      {loadingUpdate && <Loader />}\r\n      {userDetails ? (\r\n        <FormContainer>\r\n          <Form onSubmit={submitHandler}>\r\n            <Form.Group controlId='name'>\r\n              <Form.Label>name</Form.Label>\r\n              <Form.Control\r\n                placeholder={name}\r\n                type='text'\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='email'>\r\n              <Form.Label>email address</Form.Label>\r\n              <Form.Control\r\n                placeholder={email}\r\n                type='email'\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='isadmin'>\r\n              {/* <Form.Label>is admin</Form.Label> */}\r\n              <Form.Check\r\n                type='checkbox'\r\n                label='is admin'\r\n                inline='true'\r\n                checked={isAdmin}\r\n                onChange={(e) => setIsAdmin(e.target.checked)}\r\n              ></Form.Check>\r\n            </Form.Group>\r\n\r\n            <Button\r\n              type='submit'\r\n              variant='primary'\r\n              onClick={(e) => submitHandler(e)}\r\n            >\r\n              update\r\n            </Button>\r\n          </Form>\r\n        </FormContainer>\r\n      ) : (\r\n        <Message variant='danger'>no data</Message>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UserEditScreen;\r\n","import React, { Fragment, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Button, Table, Row, Col } from 'react-bootstrap';\r\n\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport Paginate from '../components/Paginate';\r\n\r\nimport {\r\n  listProducts,\r\n  deleteProduct,\r\n  createProduct\r\n} from '../actions/productActions';\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants';\r\n\r\nconst ProductListScreen = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const pageNumber = match.params.pageNumber || 1;\r\n\r\n  const productList = useSelector((state) => state.productList);\r\n  const { products, error, loading, page, pages } = productList;\r\n\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const {\r\n    error: errorDelete,\r\n    loading: loadingDelete,\r\n    success: successDelete\r\n  } = productDelete;\r\n\r\n  const productCreate = useSelector((state) => state.productCreate);\r\n  const {\r\n    error: errorCreate,\r\n    loading: loadingCreate,\r\n    success: successCreate,\r\n    product: createdProduct\r\n  } = productCreate;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: PRODUCT_CREATE_RESET });\r\n    if (!userInfo.isAdmin) {\r\n      history.push('/login');\r\n    }\r\n    if (successCreate && createdProduct) {\r\n      history.push(`/admin/product/${createdProduct._id}/edit`);\r\n    } else {\r\n      dispatch(listProducts('', pageNumber));\r\n    }\r\n\r\n    if (successDelete) {\r\n      dispatch(listProducts('', pageNumber));\r\n    }\r\n  }, [\r\n    dispatch,\r\n    history,\r\n    userInfo,\r\n    successCreate,\r\n    successDelete,\r\n    createdProduct,\r\n    pageNumber\r\n  ]);\r\n\r\n  const deleteHandler = (id) => {\r\n    if (window.confirm('are you sure')) {\r\n      dispatch(deleteProduct(id));\r\n    }\r\n  };\r\n\r\n  const createProductHandler = () => {\r\n    dispatch(createProduct());\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* <p>users {JSON.stringify(products)}</p> */}\r\n      <Row className='align-items-center'>\r\n        <Col>\r\n          <h1>products</h1>\r\n        </Col>\r\n        <Col className='text-right'>\r\n          <Button className='my-3' onClick={createProductHandler}>\r\n            <i className='fas fa-plus'></i>create product\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      {/* <h1>products</h1> */}\r\n      {loadingCreate && <Loader />}\r\n      {loadingDelete && <Loader />}\r\n      {loading && <Loader />}\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n      {errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n      {successDelete && <Message variant='success'>{successDelete}</Message>}\r\n      {successCreate && <Message variant='success'>{successCreate}</Message>}\r\n      {products && (\r\n        <>\r\n          <Table striped border hover responsive className='table-sm'>\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>NAME</th>\r\n                <th>PRICE</th>\r\n                <th>CATEGORY</th>\r\n                <th>BRAND</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((product) => (\r\n                <tr key={product._id}>\r\n                  <td>{product._id}</td>\r\n                  <td>{product.name}</td>\r\n                  <td>${product.price}</td>\r\n                  <td>{product.category}</td>\r\n                  <td>{product.brand}</td>\r\n                  <td>\r\n                    <LinkContainer to={`product/${product._id}/edit`}>\r\n                      <Button variant='light' className='btn-sm'>\r\n                        <i className='fas fa-edit' />\r\n                      </Button>\r\n                    </LinkContainer>\r\n                    <Button\r\n                      variant='danger'\r\n                      className='btn-sm'\r\n                      onClick={() => deleteHandler(product._id)}\r\n                    >\r\n                      <i className='fas fa-trash'></i>\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          <Paginate page={page} pages={pages} isAdmin={true} />\r\n        </>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ProductListScreen;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { updateProduct, listProductDetails } from '../actions/productActions';\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants';\r\nimport axios from 'axios';\r\n\r\nconst ProductEditScreen = ({ match }) => {\r\n  const productId = match.params.id;\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n\r\n  const productUpdate = useSelector((state) => state.productUpdate);\r\n  const {\r\n    loading: loadingUpdate,\r\n    error: errorUpdate,\r\n    success: successUpdate\r\n  } = productUpdate;\r\n\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const [brand, setBrand] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [countInStock, setCountInStock] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!userInfo.isAdmin) {\r\n      history.push('/login');\r\n    }\r\n\r\n    if (successUpdate) {\r\n      dispatch({ type: PRODUCT_UPDATE_RESET });\r\n      dispatch(listProductDetails());\r\n      history.push('/admin/productlist');\r\n    } else {\r\n      if (!product.name || product._id !== productId) {\r\n        dispatch(listProductDetails(productId));\r\n      } else {\r\n        setName(product.name);\r\n        setPrice(product.price);\r\n        setCategory(product.category);\r\n        setBrand(product.brand);\r\n        setImage(product.image);\r\n        setCountInStock(product.countInStock);\r\n        setDescription(product.description);\r\n      }\r\n    }\r\n  }, [dispatch, product, productId, history, successUpdate, userInfo.isAdmin]);\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    // console.log('screen handler');\r\n    const file = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n    setUploading(true);\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          Authorization: `Bearer ${userInfo.token}`\r\n        }\r\n      };\r\n\r\n      const { data } = await axios.post('/api/upload', formData, config);\r\n      // console.log('screen', data);\r\n\r\n      setImage(data);\r\n      setUploading(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      updateProduct({\r\n        name,\r\n        price,\r\n        category,\r\n        brand,\r\n        description,\r\n        image,\r\n        countInStock,\r\n        _id: productId\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Link to='/admin/productlist' className='btn btn-light my-3'>\r\n        go back\r\n      </Link>\r\n      <h1>edit user</h1>\r\n      {/* <p>user {JSON.stringify(user)}</p> */}\r\n\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n      {errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\r\n      {loading && <Loader />}\r\n      {loadingUpdate && <Loader />}\r\n\r\n      {productDetails && product && (\r\n        <FormContainer>\r\n          <Form onSubmit={submitHandler}>\r\n            <Form.Group controlId='name'>\r\n              <Form.Label>name</Form.Label>\r\n              <Form.Control\r\n                placeholder={name}\r\n                type='text'\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='price'>\r\n              <Form.Label>price</Form.Label>\r\n              <Form.Control\r\n                placeholder={price}\r\n                type='text'\r\n                value={price}\r\n                onChange={(e) => setPrice(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='image'>\r\n              <Form.Label>Image</Form.Label>\r\n              <Form.Control\r\n                type='text'\r\n                placeholder='Enter image url'\r\n                value={image}\r\n                onChange={(e) => setImage(e.target.value)}\r\n              ></Form.Control>\r\n              <Form.File\r\n                id='image-file'\r\n                label='Choose File'\r\n                custom\r\n                onClick={uploadFileHandler}\r\n              ></Form.File>\r\n              {uploading && <Loader />}\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='category'>\r\n              <Form.Label>category</Form.Label>\r\n              <Form.Control\r\n                placeholder={category}\r\n                type='text'\r\n                value={category}\r\n                onChange={(e) => setCategory(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='brand'>\r\n              <Form.Label>brand</Form.Label>\r\n              <Form.Control\r\n                placeholder={brand}\r\n                type='text'\r\n                value={brand}\r\n                onChange={(e) => setBrand(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='countInStock'>\r\n              <Form.Label>count in stock</Form.Label>\r\n              <Form.Control\r\n                placeholder={countInStock}\r\n                type='text'\r\n                value={countInStock}\r\n                onChange={(e) => setCountInStock(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId='description'>\r\n              <Form.Label>description</Form.Label>\r\n              <Form.Control\r\n                placeholder={description}\r\n                type='text'\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Button\r\n              type='submit'\r\n              variant='primary'\r\n              onClick={(e) => submitHandler(e)}\r\n            >\r\n              update\r\n            </Button>\r\n          </Form>\r\n        </FormContainer>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ProductEditScreen;\r\n","import React, { Fragment, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Button, Table, Row, Col } from 'react-bootstrap';\r\n\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\n\r\nimport {\r\n  listOrders\r\n  // ,\r\n  // deleteOrder,\r\n  // createOrder\r\n} from '../actions/orderActions';\r\nimport {} from '../constants/orderConstants';\r\n\r\nconst OrderListScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const orderList = useSelector((state) => state.orderList);\r\n  const { orders, error, loading } = orderList;\r\n\r\n  // const orderDelete = useSelector((state) => state.orderDelete);\r\n  // const {\r\n  //   error: errorDelete,\r\n  //   loading: loadingDelete,\r\n  //   success: successDelete\r\n  // } = orderDelete;\r\n\r\n  // const orderCreate = useSelector((state) => state.orderCreate);\r\n  // const {\r\n  //   error: errorCreate,\r\n  //   loading: loadingCreate,\r\n  //   success: successCreate,\r\n  //   product: createdProduct\r\n  // } = orderCreate;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  useEffect(() => {\r\n    // dispatch({ type: PRODUCT_CREATE_RESET });\r\n    if (!userInfo.isAdmin) {\r\n      history.push('/login');\r\n    } else {\r\n      dispatch(listOrders());\r\n    }\r\n    // if (successCreate && createdProduct) {\r\n    //   history.push(`/admin/product/${createdProduct._id}/edit`);\r\n    // } else {\r\n    //   dispatch(listProducts());\r\n    // }\r\n\r\n    // if (successDelete) {\r\n    //   dispatch(listProducts());\r\n    // }\r\n  }, [dispatch, history, userInfo]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Row className='align-items-center'>\r\n        <Col>\r\n          <h1>orders</h1>\r\n        </Col>\r\n      </Row>\r\n\r\n      {loading && <Loader />}\r\n      {error && <Message variant='danger'>{error}</Message>}\r\n\r\n      {orders && (\r\n        <Table striped border hover responsive className='table-sm'>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>USER</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.user}</td>\r\n                <td>{order.paidAt.substring(0, 10)}</td>\r\n                <td>${order.totalPrice}</td>\r\n                <td>\r\n                  {order.isPaid ? (\r\n                    <i style={{ color: 'green' }} className='fas fa-check'></i>\r\n                  ) : (\r\n                    <i style={{ color: 'red' }} className='fas fa-times'></i>\r\n                  )}\r\n                </td>\r\n                <td>\r\n                  {order.isDelivered ? (\r\n                    <i style={{ color: 'green' }} className='fas fa-check'></i>\r\n                  ) : (\r\n                    <i style={{ color: 'red' }} className='fas fa-times'></i>\r\n                  )}\r\n                </td>\r\n                <td>\r\n                  <LinkContainer to={`/orders/${order._id}`}>\r\n                    <Button variant='light' className='btn-sm'>\r\n                      details\r\n                    </Button>\r\n                  </LinkContainer>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default OrderListScreen;\r\n","import './App.css';\nimport { Container } from 'react-bootstrap';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport CartScreen from './screens/CartScreen';\nimport LoginScreen from './screens/LoginScreen';\nimport RegisterScreen from './screens/RegisterScreen';\nimport ProfileScreen from './screens/ProfileScreen';\nimport ShippingScreen from './screens/ShippingScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\nimport OrderScreen from './screens/OrderScreen';\nimport UserListScreen from './screens/UserListScreen';\nimport UserEditScreen from './screens/UserEditScreen';\nimport ProductListScreen from './screens/ProductListScreen';\nimport ProductEditScreen from './screens/ProductEditScreen';\nimport OrderListScreen from './screens/OrderListScreen';\n\nimport { Fragment } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nconst App = () => {\n  return (\n    <Fragment>\n      <Router>\n        <Header />\n        <main className='py-3'>\n          <Container>\n            <Route path='/' component={HomeScreen} exact></Route>\n            <Route path='/product/:id' component={ProductScreen}></Route>\n            <Route path='/cart/:id?' component={CartScreen}></Route>\n            <Route path='/login' component={LoginScreen}></Route>{' '}\n            <Route path='/register' component={RegisterScreen}></Route>{' '}\n            <Route path='/profile' component={ProfileScreen}></Route>\n            <Route path='/shipping' component={ShippingScreen}></Route>\n            <Route path='/payment' component={PaymentScreen}></Route>\n            <Route path='/placeorder' component={PlaceOrderScreen}></Route>\n            <Route path='/orders/:id' component={OrderScreen}></Route>\n            <Route path='/admin/userlist' component={UserListScreen}></Route>\n            <Route path='/admin/orderlist' component={OrderListScreen}></Route>\n            <Route\n              path='/admin/productlist'\n              component={ProductListScreen}\n              exact\n            ></Route>\n            <Route\n              path='/admin/productlist/:pageNumber'\n              component={ProductListScreen}\n              exact\n            ></Route>\n            <Route\n              path='/admin/product/:id/edit'\n              component={ProductEditScreen}\n            ></Route>\n            <Route\n              path='/admin/user/:id/edit'\n              component={UserEditScreen}\n            ></Route>\n            <Route path='/search/:keyword' component={HomeScreen} exact></Route>\n            <Route path='/page/:pageNumber' component={HomeScreen}></Route>\n            <Route\n              path='/search/:keyword/page/:pageNumber'\n              component={HomeScreen}\n              exact\n            ></Route>\n          </Container>\n        </main>\n        <Footer />\n      </Router>\n    </Fragment>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk'; //for async calls\r\nimport { composeWithDevTools } from 'redux-devtools-extension'; //for devtools\r\n\r\nimport {\r\n  productListReducer,\r\n  productDetailsReducer,\r\n  productDeleteReducer,\r\n  productUpdateReducer,\r\n  productCreateReducer,\r\n  reviewCreateReducer,\r\n  topProductsReducer\r\n} from './reducers/productReducer.js';\r\nimport {\r\n  userLoginReducer,\r\n  userRegisterReducer,\r\n  userDetailsReducer,\r\n  userUpdateProfileReducer,\r\n  userListReducer,\r\n  userDeleteReducer,\r\n  userUpdateReducer\r\n} from './reducers/userReducer.js';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport {\r\n  orderCreateReducer,\r\n  orderDetailsReducer,\r\n  orderPayReducer,\r\n  orderListMyReducer,\r\n  orderListReducer,\r\n  orderDeliverReducer\r\n} from './reducers/orderReducers';\r\n\r\nconst cartItemsFromStorage = window.localStorage.getItem('cartItems')\r\n  ? JSON.parse(window.localStorage.getItem('cartItems'))\r\n  : [];\r\n\r\n// const cartItemsFromStorage = {};\r\n\r\nconst userInfoFromStorage = window.localStorage.getItem('userInfo')\r\n  ? JSON.parse(window.localStorage.getItem('userInfo'))\r\n  : null;\r\n\r\nconst shippingAddressFromStorage = window.localStorage.getItem(\r\n  'shippingAddress'\r\n)\r\n  ? JSON.parse(window.localStorage.getItem('shippingAddress'))\r\n  : '';\r\n\r\n// console.log('persisted', persisted);\r\n//https://stackoverflow.com/questions/45022445/js-ternary-functions-with-multiple-conditions\r\n\r\nconst initialState = {\r\n  cart: {\r\n    cartItems: cartItemsFromStorage,\r\n    shippingAddress: shippingAddressFromStorage\r\n  },\r\n  userLogin: { userInfo: userInfoFromStorage }\r\n};\r\n//why the nesting\r\n\r\n// const initialState = {};\r\n\r\n//mount reducers you have created\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  cart: cartReducer,\r\n  userLogin: userLoginReducer,\r\n  userRegister: userRegisterReducer,\r\n  userDetails: userDetailsReducer,\r\n  userUpdateProfile: userUpdateProfileReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  orderPay: orderPayReducer,\r\n  orderListMy: orderListMyReducer,\r\n  userList: userListReducer,\r\n  userDelete: userDeleteReducer,\r\n  userUpdate: userUpdateReducer,\r\n  productDelete: productDeleteReducer,\r\n  productUpdate: productUpdateReducer,\r\n  productCreate: productCreateReducer,\r\n  orderList: orderListReducer,\r\n  orderDeliver: orderDeliverReducer,\r\n  reviewCreate: reviewCreateReducer,\r\n  topProducts: topProductsReducer\r\n});\r\n\r\n//store instance\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\n// store.subscribe(() => getLocalStorage(store.getState().cart.cartItems));\r\n\r\nexport default store;\r\n","import {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_UPDATE_RESET,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_RESET,\r\n  PRODUCT_CREATE_REVIEW_REQUEST,\r\n  PRODUCT_CREATE_REVIEW_SUCCESS,\r\n  PRODUCT_CREATE_REVIEW_FAIL,\r\n  PRODUCT_CREATE_REVIEW_RESET,\r\n  PRODUCT_TOP_REQUEST,\r\n  PRODUCT_TOP_SUCCESS,\r\n  PRODUCT_TOP_FAIL\r\n} from '../constants/productConstants.js'; //extra optional step\r\n\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_LIST_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        products: action.payload.products,\r\n        pages: action.payload.pages,\r\n        page: action.payload.page\r\n      };\r\n    case PRODUCT_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productDetailsReducer = (\r\n  state = { product: { reviews: [] } },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case PRODUCT_DETAILS_REQUEST:\r\n      return { loading: true, ...state };\r\n    case PRODUCT_DETAILS_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case PRODUCT_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productDeleteReducer = (\r\n  state = { product: { reviews: [] } },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case PRODUCT_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_DELETE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case PRODUCT_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_UPDATE_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    case PRODUCT_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PRODUCT_UPDATE_RESET:\r\n      return { product: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productCreateReducer = (state = { product: {} }, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_CREATE_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    case PRODUCT_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PRODUCT_CREATE_RESET:\r\n      return { product: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const reviewCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_CREATE_REVIEW_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_CREATE_REVIEW_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case PRODUCT_CREATE_REVIEW_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case PRODUCT_CREATE_REVIEW_RESET:\r\n      return { product: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const topProductsReducer = (state = { products: [] }, action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_TOP_REQUEST:\r\n      return { loading: true, products: [] };\r\n    case PRODUCT_TOP_SUCCESS:\r\n      return { loading: false, products: action.payload };\r\n    case PRODUCT_TOP_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_SHIPPING_ADDRESS,\r\n  CART_SAVE_PAYMENT_METHOD\r\n  //dont need update the add item takes care of it\r\n  // CART_UPDATE_ITEM\r\n} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (\r\n  state = { cartItems: [], shippingAddress: {} },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      //can only write statements within case\r\n      const itemExists = state.cartItems.find(\r\n        (i) => i.product === action.payload.product\r\n      );\r\n\r\n      //if you leave out the if statement it will lead to type error. because you have to add on an additional item\r\n      if (itemExists) {\r\n        return {\r\n          ...state,\r\n          //map method immutable, returns a copy. reducers cannot have any mutations\r\n          cartItems: state.cartItems.map((x) =>\r\n            x.product === itemExists.product ? action.payload : x\r\n          )\r\n        };\r\n      } else {\r\n        return { ...state, cartItems: [...state.cartItems, action.payload] };\r\n      }\r\n\r\n    case CART_REMOVE_ITEM:\r\n      // console.log('reducer/action', action);\r\n\r\n      const itemToDelete = state.cartItems.find(\r\n        (i) => i.product === action.payload.id\r\n      );\r\n      //dont need if statement, the filter will not remove anything if no match\r\n      return {\r\n        ...state,\r\n        //filter method immutable, returns a copy. reducers cannot have any mutations\r\n        cartItems: state.cartItems.filter(\r\n          (x) => x.product !== itemToDelete.product\r\n        )\r\n      };\r\n\r\n    // return state;\r\n\r\n    case CART_SAVE_SHIPPING_ADDRESS:\r\n      return {\r\n        ...state,\r\n        shippingAddress: action.payload\r\n      };\r\n    case CART_SAVE_PAYMENT_METHOD:\r\n      return { ...state, paymentMethod: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  USER_LOGIN_FAIL,\r\n  USER_LOGIN_REQUEST,\r\n  USER_LOGIN_SUCCESS,\r\n  USER_LOGOUT,\r\n  USER_REGISTER_FAIL,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_RESET,\r\n  USER_UPDATE_PROFILE_FAIL,\r\n  USER_UPDATE_PROFILE_REQUEST,\r\n  USER_UPDATE_PROFILE_SUCCESS,\r\n  USER_LIST_SUCCESS,\r\n  USER_LIST_REQUEST,\r\n  USER_LIST_FAIL,\r\n  USER_LIST_RESET,\r\n  USER_DELETE_REQUEST,\r\n  USER_DELETE_SUCCESS,\r\n  USER_DELETE_FAIL,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_RESET\r\n} from '../constants/userConstants.js';\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_LOGIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_LOGIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_LOGIN_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_LOGOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n  switch (action.type) {\r\n    case USER_DETAILS_REQUEST:\r\n      return { ...state, loading: true };\r\n    case USER_DETAILS_SUCCESS:\r\n      return { loading: false, user: action.payload };\r\n    case USER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_DETAILS_RESET:\r\n      return { user: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_UPDATE_PROFILE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_PROFILE_SUCCESS:\r\n      return { loading: false, userInfo: action.payload, success: true };\r\n    case USER_UPDATE_PROFILE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    // case USER_UPDATE_PROFILE_RESET:\r\n    //   return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n  switch (action.type) {\r\n    case USER_LIST_REQUEST:\r\n      return { loading: true };\r\n    case USER_LIST_SUCCESS:\r\n      return { loading: false, users: action.payload };\r\n    case USER_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_LIST_RESET:\r\n      return { users: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case USER_DELETE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case USER_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userUpdateReducer = (state = { user: {} }, action) => {\r\n  switch (action.type) {\r\n    case USER_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, user: action.payload, success: true };\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_UPDATE_RESET:\r\n      return { user: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_RESET,\r\n  ORDER_LIST_MY_REQUEST,\r\n  ORDER_LIST_MY_SUCCESS,\r\n  ORDER_LIST_MY_FAIL,\r\n  ORDER_LIST_MY_RESET,\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n  ORDER_LIST_RESET,\r\n  ORDER_DELIVERED_FAIL,\r\n  ORDER_DELIVERED_RESET,\r\n  ORDER_DELIVERED_SUCCESS,\r\n  ORDER_DELIVERED_REQUEST\r\n} from '../constants/orderConstants';\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_CREATE_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case ORDER_CREATE_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true,\r\n        order: action.payload\r\n      };\r\n    case ORDER_CREATE_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDetailsReducer = (\r\n  state = { orderItems: [], shippingAddress: {}, loading: true },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ORDER_DETAILS_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case ORDER_DETAILS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        order: action.payload\r\n      };\r\n    case ORDER_DETAILS_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_PAY_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case ORDER_PAY_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true\r\n      };\r\n    case ORDER_PAY_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    case ORDER_PAY_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderListMyReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_LIST_MY_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case ORDER_LIST_MY_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        orders: action.payload\r\n      };\r\n    case ORDER_LIST_MY_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    case ORDER_LIST_MY_RESET:\r\n      return { orders: [] };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_LIST_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case ORDER_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        orders: action.payload\r\n      };\r\n    case ORDER_LIST_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    case ORDER_LIST_RESET:\r\n      return { orders: [] };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DELIVERED_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case ORDER_DELIVERED_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        success: true\r\n      };\r\n    case ORDER_DELIVERED_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    case ORDER_DELIVERED_RESET:\r\n      return {};\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}